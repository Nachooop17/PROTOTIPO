<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototipo - Portal Acad√©mico Integrado</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f9;
        }
        /* Estilos del Login */
        .login-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #004a99; /* Fondo azul institucional */
        }
        .login-box {
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            text-align: center;
            width: 380px;
        }
        .login-box h2 {
            color: #004a99;
            margin-bottom: 30px;
            border-bottom: none;
        }
        .login-box button {
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            border: none;
            border-radius: 4px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
            color: white;
            font-weight: bold;
        }
        .login-box button.student {
            background-color: #28a745; /* Verde para Estudiante */
        }
        .login-box button.teacher {
            background-color: #ffc107; /* Amarillo/Naranja para Docente */
            color: #333;
        }
        .login-box button.coordinator {
            background-color: #17a2b8; /* Cyan para Coordinador */
        }
        .login-box button:hover {
            opacity: 0.9;
        }

        /* Estilos del Dashboard */
        .dashboard-screen {
            display: none; /* Oculto por defecto */
        }
        .header {
            background-color: #004a99;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.5em;
        }
        .header .logout {
            background: none;
            border: 1px solid white;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.7em;
            cursor: pointer;
        }
        .container {
            display: flex;
            min-height: calc(100vh - 60px);
        }
        .sidebar {
            width: 280px;
            background-color: #333;
            color: white;
            padding: 20px 0;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }
        .sidebar-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #444;
            transition: background-color 0.3s;
        }
        .sidebar-item:hover, .sidebar-item.active {
            background-color: #007bff;
        }
        .content {
            flex-grow: 1;
            padding: 20px;
            background-color: white;
        }
        .module {
            display: none;
        }
        .module.active {
            display: block;
        }
        h2 {
            color: #004a99;
            border-bottom: 2px solid #004a99;
            padding-bottom: 5px;
            margin-top: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #e9ecef;
            color: #333;
        }
        /* Clases de rol para el men√∫ */
        .role-student { display: none; }
        .role-teacher { display: none; }
        .role-coordinator { display: none; }
    </style>
</head>
<body>

    <div id="loginScreen" class="login-screen">
        <div class="login-box">
            <h2>üîë Acceso al Portal Acad√©mico</h2>
            <p>Seleccione su tipo de usuario para simular el inicio de sesi√≥n:</p>
            <button class="student" onclick="login('student')">
                Estudiante (RF1.4, RF1.7, RF3.1)
            </button>
            <button class="teacher" onclick="login('teacher')">
                Docente (RF2.3, RF2.4, RF2.5)
            </button>
            <button class="coordinator" onclick="login('coordinator')">
                Coordinador (RF2.1, RF2.2, RF4.1)
            </button>
        </div>
    </div>

    <div id="dashboardScreen" class="dashboard-screen">

        <div class="header">
            <span>üéì Portal Acad√©mico - Rol: <span id="userRoleDisplay"></span></span>
            <button class="logout" onclick="logout()">Cerrar Sesi√≥n</button>
        </div>

        <div class="container">
            <div class="sidebar" id="sidebarMenu">
                <div class="sidebar-item" data-module="horarios">
                    üìÖ Consulta de Horarios (RF1.3)
                </div>

                <div class="sidebar-item role-student" data-module="certificados">
                    üìÑ Descarga Certificados (RF1.7)
                </div>
                <div class="sidebar-item role-student" data-module="calificaciones">
                    üìä Consulta de Calificaciones (RF1.4)
                </div>
                <div class="sidebar-item role-student" data-module="cobros">
                    üí≥ Gesti√≥n de Cobros (RF3.1)
                </div>

                <div class="sidebar-item role-teacher" data-module="asignacion">
                    üìö Mis Cursos Asignados (RF2.3)
                </div>
                <div class="sidebar-item role-teacher" data-module="ingreso-notas">
                    ‚úçÔ∏è Ingreso Calificaciones (RF2.4)
                </div>
                <div class="sidebar-item role-teacher" data-module="asistencia">
                    ‚úÖ Control de Inasistencias (RF2.5)
                </div>

                <div class="sidebar-item role-coordinator" data-module="trazabilidad">
                    üìà Trazabilidad del Progreso (RF4.1)
                </div>
                <div class="sidebar-item role-coordinator" data-module="curriculum">
                    üõ†Ô∏è Adm. de Curr√≠culum (RF2.2)
                </div>
                <div class="sidebar-item role-coordinator" data-module="matricula">
                    üìù Matr√≠cula Digital (RF2.1)
                </div>
            </div>

            <div class="content">

                <div id="horarios" class="module active">
                    <h2>Consulta de Horarios (RF1.3)</h2>
                    <p>Horario simulado para el rol actual.</p>
                    <div id="horario-data"></div>
                </div>

                <div id="certificados" class="module">
                    <h2>Descarga de Certificados Digitales (RF1.7)</h2>
                    <p>El sistema permite al estudiante solicitar y descargar certificados.</p>
                    <div style="padding: 20px; border: 1px dashed #ccc; background-color: #e9f7ff;">
                        <strong>Certificado de Alumno Regular (2025)</strong><br>
                        <small>Validaci√≥n: 0F8E3C9A...</small><br>
                        <button style="background-color: #007bff; color: white; padding: 10px; border: none; margin-top: 10px; border-radius: 4px;" onclick="alert('Descargando PDF del Certificado...')">
                            Descargar Ahora (PDF)
                        </button>
                    </div>
                </div>

                <div id="calificaciones" class="module">
                    <h2>Consulta de Calificaciones (RF1.4)</h2>
                    <p>Muestra las calificaciones parciales y finales del estudiante.</p>
                    <div id="calificaciones-data"></div>
                </div>

                <div id="cobros" class="module">
                    <h2>Gesti√≥n de Cobros (RF3.1)</h2>
                    <p>Integraci√≥n con pasarelas de pago para cubrir la deuda (Matr√≠cula y Aranceles).</p>
                    <table>
                        <thead>
                            <tr><th>Concepto</th><th>Monto Pendiente</th><th>Fecha Vencimiento</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Arancel Cuota 3</td><td>$150.000 CLP</td><td>30/11/2025</td></tr>
                            <tr><td>Multa Biblioteca</td><td>$5.000 CLP</td><td>N/A</td></tr>
                        </tbody>
                    </table>
                    <button style="background-color: #dc3545; color: white; padding: 10px 20px; border: none; margin-top: 15px; border-radius: 4px;" onclick="alert('Redirigiendo a Pasarela de Pago...')">
                        Pagar $155.000 CLP
                    </button>
                    <p style="margin-top: 10px; font-size: 0.9em;">*Simulaci√≥n de Trazabilidad Financiera (RF3.2): Registro de movimientos asociado al pago.</p>
                </div>

                <div id="asignacion" class="module">
                    <h2>üìö Mis Cursos Asignados (RF2.3)</h2>
                    <p>Asignaci√≥n de docentes a cursos y gesti√≥n de su carga horaria.</p>
                    <ul>
                        <li>**Programaci√≥n Web I** - 14:00-16:00 (Lunes)</li>
                        <li>**Bases de Datos Avanzadas** - 17:00-19:00 (Jueves)</li>
                        <li>**Taller de Proyectos** - 08:00-10:00 (Viernes)</li>
                    </ul>
                </div>

                <div id="ingreso-notas" class="module">
                    <h2>‚úçÔ∏è Ingreso y Consolidaci√≥n de Calificaciones (RF2.4)</h2>
                    <p>Vista para ingresar notas y el sistema consolida promedios autom√°ticamente.</p>
                    <label for="curso-notas">Seleccione Curso:</label>
                    <select id="curso-notas" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                        <option>Programaci√≥n Web I</option>
                        <option>Bases de Datos Avanzadas</option>
                    </select>
                    <button style="background-color: #17a2b8; color: white; padding: 8px 15px; border: none; margin-top: 10px; border-radius: 4px;" onclick="alert('Cargando planilla de notas para el ingreso...')">
                        Cargar Planilla
                    </button>
                    <p style="margin-top: 15px; font-weight: bold;">**Consolidaci√≥n Autom√°tica:** El promedio parcial 1 se ha calculado en 6.1.</p>
                </div>

                <div id="asistencia" class="module teacher-view">
                    <h2>‚úÖ Control de Inasistencias (RF2.5)</h2>
                    <p>Registro centralizado de asistencia y generaci√≥n de alertas por inasistencia.</p>

                    <label for="curso-select">Seleccione Curso:</label>
                    <select id="curso-select" style="padding: 8px; width: 50%; border: 1px solid #ccc; border-radius: 4px;">
                        <option value="matematicas">Matem√°ticas Avanzadas</option>
                        <option value="programacion">Programaci√≥n Web I</option>
                        <option value="fisica">F√≠sica Cl√°sica</option>
                    </select>

                    <table id="asistencia-table">
                        <thead>
                            <tr>
                                <th>Nombre del Estudiante</th>
                                <th>Presente</th>
                                <th>Ausente</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <button style="background-color: #28a745; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px;" onclick="registrarAsistencia()">Registrar Asistencia</button>
                    <p id="asistencia-message" style="color: green; margin-top: 15px; font-weight: bold;"></p>
                </div>

                <div id="trazabilidad" class="module">
                    <h2>üìà Trazabilidad del Progreso y Reportes (RF4.1, RF4.2, RF4.3)</h2>
                    <p>Seguimiento del rendimiento individual (RF4.1) y reportes estrat√©gicos (RF4.2). Gesti√≥n de Pr√°cticas (RF4.3).</p>
                    <div style="border: 1px solid #ccc; padding: 15px; background-color: #f8d7da; color: #721c24; margin-bottom: 20px;">
                        **Alerta de Riesgo (RF4.1):** Estudiante Juan P√©rez (ID: 123) presenta 3 asignaturas con nota menor a 4.0.
                    </div>
                    <h3>Reportes Estrat√©gicos (RF4.2)</h3>
                    <ul>
                        <li>Tasa de Reprobaci√≥n Global (Carrera 2025): **15%**</li>
                        <li>Tasa de Deserci√≥n Primer A√±o: **8%**</li>
                    </ul>
                    <h3>Gesti√≥n de Pr√°cticas (RF4.3)</h3>
                    <p>Convenios con 50 empresas. 12 estudiantes en seguimiento de estado de pr√°ctica.</p>
                </div>

                <div id="curriculum" class="module">
                    <h2>üõ†Ô∏è Administraci√≥n de Curr√≠culum (RF2.2)</h2>
                    <p>Gesti√≥n de planes de estudio, mallas, asignaturas y prerrequisitos.</p>
                    <div style="background-color: #e9ecef; padding: 10px; border-left: 4px solid #004a99;">
                        **Simulaci√≥n:** El coordinador puede modificar los prerrequisitos de "Programaci√≥n Avanzada" para incluir la aprobaci√≥n de "Matem√°ticas Discretas".
                    </div>
                    <button style="background-color: #6c757d; color: white; padding: 10px 20px; border: none; margin-top: 15px; border-radius: 4px;" onclick="alert('Guardando cambios en el curr√≠culum...')">
                        Guardar Cambios
                    </button>
                </div>

                <div id="matricula" class="module">
                    <h2>üìù Matr√≠cula Digital (RF2.1)</h2>
                    <p>Implementaci√≥n de la inscripci√≥n y matr√≠cula de estudiantes, eliminando procesos manuales.</p>
                    <p style="font-weight: bold; font-size: 1.1em;">Estudiantes Pendientes de Aprobaci√≥n de Matr√≠cula (2026): 58</p>
                    <button style="background-color: #28a745; color: white; padding: 10px 20px; border: none; margin-top: 10px; border-radius: 4px;" onclick="alert('Proceso masivo de aprobaci√≥n de Matr√≠cula iniciado...')">
                        Aprobar Lote Pendiente
                    </button>
                </div>

            </div>
        </div>
    </div>

    <script src="script.js"></script>

</body>
</html>